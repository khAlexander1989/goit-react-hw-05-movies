{"version":3,"file":"static/js/532.f7ecba90.chunk.js","mappings":"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","sources":["components/Box/Box.jsx","components/MovieListItem/MovieListItem.styled.jsx","components/MovieListItem/MovieListItem.jsx","components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","components/SearchBar/Searchbar.jsx","pages/Movies/Movies.jsx","services/constants.js","services/fetchMovieAPI.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  layout,\n  space,\n  flexbox,\n  color,\n  borders,\n  shadow,\n  position,\n} from 'styled-system';\n\nexport const Box = styled.div`\n  ${layout}\n  ${flexbox}\n  ${space}\n  ${position}\n  ${color}\n  ${borders}\n  ${shadow}\n`;\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Link = styled(NavLink)`\n  font-size: ${p => p.theme.fontSizes[2]};\n  color: ${p => p.theme.colors.textBlack};\n  text-decoration: none;\n\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n    color: ${p => p.theme.colors.red};\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\n\nimport { Link } from './MovieListItem.styled';\n\nexport default function MovieListItem({ id, title }) {\n  const location = useLocation();\n  const nextPath = location.pathname === '/' ? 'movies/' : '';\n\n  return (\n    <Link to={`${nextPath}${id}`} state={{ from: location }}>\n      {title}\n    </Link>\n  );\n}\n\nMovieListItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Item = styled.li`\n  padding: ${p => p.theme.space[1]} 0;\n`;\n","import PropTypes from 'prop-types';\nimport { Box } from 'components/Box';\nimport MovieListItem from 'components/MovieListItem';\nimport { Item } from './MovieList.styled';\n\nexport default function MovieList({ movies }) {\n  return (\n    <Box as=\"ul\">\n      {movies.map(({ id, title }) => (\n        <Item key={id}>\n          <MovieListItem title={title} id={id} />\n        </Item>\n      ))}\n    </Box>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nexport default function Searchbar() {\n  const [searchParams, setSearchParams] = useSearchParams({ query: '' });\n  const query = searchParams.get('query');\n  const [searchQuery, setSearchQuery] = useState(query);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setSearchParams({ query: searchQuery.trim() });\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        name=\"searchField\"\n        value={searchQuery}\n        onChange={({ target: { value } }) => setSearchQuery(value)}\n      />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { PulseLoader } from 'react-spinners';\n\nimport { fetchMovieByKeyword } from 'services/fetchMovieAPI';\nimport SearchBar from 'components/SearchBar';\nimport MovieList from 'components/MovieList';\nimport { STATUS } from 'services/constants';\nimport { Box } from 'components/Box';\n\nexport default function Movies() {\n  const [searchParams] = useSearchParams({ query: '' });\n  const query = searchParams.get('query');\n  const [movies, setMovies] = useState();\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [error, setError] = useState();\n\n  useEffect(() => {\n    if (query) {\n      setError(null);\n      setStatus(STATUS.PENDING);\n\n      fetchMovieByKeyword(query)\n        .then(data => {\n          setMovies(data);\n          setStatus(STATUS.RESOLVED);\n        })\n        .catch(err => {\n          setStatus(STATUS.REJECTED);\n          setError(err.message);\n        });\n    }\n  }, [query]);\n\n  return (\n    <>\n      <SearchBar />\n      {status === STATUS.PENDING && (\n        <Box display=\"flex\" pl={5} pt={3}>\n          <PulseLoader size={10} color=\"#E51B36\" />\n        </Box>\n      )}\n      {status === STATUS.RESOLVED &&\n        (movies.length ? (\n          <MovieList movies={movies} />\n        ) : (\n          <p>There isn't any movie on this page.</p>\n        ))}\n      {status === STATUS.REJECTED && <p>{error}</p>}\n    </>\n  );\n}\n","export const TMDB_API_URL = 'https://api.themoviedb.org/3';\n\nexport const TMDB_API_ENDPOINTS = {\n  TRENDING_MOVIES: '/trending/movie/day',\n  SEARCH_MOVIE: '/search/movie',\n  MOVIE_DETAILS: '/movie/',\n};\n\nexport const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const ERROR_404_MESSAGE = 'Oops! Sorry, something went wrong.';\n","import axios from 'axios';\nimport {\n  TMDB_API_ENDPOINTS,\n  TMDB_API_URL,\n  ERROR_404_MESSAGE,\n} from './constants';\n\naxios.defaults.baseURL = TMDB_API_URL;\naxios.defaults.params = { api_key: process.env.REACT_APP_TMDB_API_KEY };\n\nexport async function fetchTrendingMovie() {\n  try {\n    const response = await axios(TMDB_API_ENDPOINTS.TRENDING_MOVIES);\n    return response.data.results;\n  } catch {\n    throw new Error(ERROR_404_MESSAGE);\n  }\n}\n\nexport async function fetchMovieByKeyword(keyword) {\n  const queryParams = `?query=${keyword}`;\n\n  try {\n    const response = await axios(\n      `${TMDB_API_ENDPOINTS.SEARCH_MOVIE}${queryParams}`\n    );\n\n    return response.data.results;\n  } catch {\n    throw new Error(ERROR_404_MESSAGE);\n  }\n}\n\nexport async function fetchMovieDetailsById(id, extraInfo = '') {\n  const extraInfoPath = extraInfo ? `/${extraInfo}` : '';\n\n  try {\n    const response = await axios(\n      `${TMDB_API_ENDPOINTS.MOVIE_DETAILS}${id}${extraInfoPath}`\n    );\n    return response.data;\n  } catch {\n    throw new Error(ERROR_404_MESSAGE);\n  }\n}\n"],"names":["Box","styled","layout","flexbox","space","position","color","borders","shadow","Link","NavLink","p","theme","fontSizes","colors","textBlack","red","MovieListItem","id","title","location","useLocation","nextPath","pathname","to","state","from","Item","MovieList","movies","as","map","Searchbar","useSearchParams","query","searchParams","setSearchParams","get","useState","searchQuery","setSearchQuery","onSubmit","e","preventDefault","trim","name","value","onChange","target","type","Movies","setMovies","STATUS","status","setStatus","error","setError","useEffect","fetchMovieByKeyword","then","data","catch","err","message","display","pl","pt","PulseLoader","size","length","TMDB_API_URL","TMDB_API_ENDPOINTS","TRENDING_MOVIES","SEARCH_MOVIE","MOVIE_DETAILS","IDLE","PENDING","RESOLVED","REJECTED","ERROR_404_MESSAGE","fetchTrendingMovie","axios","response","results","Error","keyword","queryParams","fetchMovieDetailsById","extraInfo","extraInfoPath","api_key","process"],"sourceRoot":""}