{"version":3,"file":"static/js/859.80df5be7.chunk.js","mappings":"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","sources":["components/Box/Box.jsx","components/MovieListItem/MovieListItem.styled.jsx","components/MovieListItem/MovieListItem.jsx","components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","pages/Home/Home.jsx","services/constants.js","services/fetchMovieAPI.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  layout,\n  space,\n  flexbox,\n  color,\n  borders,\n  shadow,\n  position,\n} from 'styled-system';\n\nexport const Box = styled.div`\n  ${layout}\n  ${flexbox}\n  ${space}\n  ${position}\n  ${color}\n  ${borders}\n  ${shadow}\n`;\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Link = styled(NavLink)`\n  font-size: ${p => p.theme.fontSizes[2]};\n  color: ${p => p.theme.colors.textBlack};\n  text-decoration: none;\n\n  &:hover,\n  &:focus {\n    text-decoration: underline;\n    color: ${p => p.theme.colors.red};\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\n\nimport { Link } from './MovieListItem.styled';\n\nexport default function MovieListItem({ id, title }) {\n  const location = useLocation();\n  const nextPath = location.pathname === '/' ? 'movies/' : '';\n\n  return (\n    <Link to={`${nextPath}${id}`} state={{ from: location }}>\n      {title}\n    </Link>\n  );\n}\n\nMovieListItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Item = styled.li`\n  padding: ${p => p.theme.space[1]} 0;\n`;\n","import PropTypes from 'prop-types';\nimport { Box } from 'components/Box';\nimport MovieListItem from 'components/MovieListItem';\nimport { Item } from './MovieList.styled';\n\nexport default function MovieList({ movies }) {\n  return (\n    <Box as=\"ul\">\n      {movies.map(({ id, title }) => (\n        <Item key={id}>\n          <MovieListItem title={title} id={id} />\n        </Item>\n      ))}\n    </Box>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","import { useState, useEffect } from 'react';\nimport { PulseLoader } from 'react-spinners';\n\nimport MovieList from 'components/MovieList';\nimport { fetchTrendingMovie } from 'services/fetchMovieAPI';\nimport { STATUS } from 'services/constants';\nimport { Box } from 'components/Box';\n\nexport default function Home() {\n  const [movies, setMovies] = useState();\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setStatus(STATUS.PENDING);\n    fetchTrendingMovie()\n      .then(data => {\n        setMovies(data);\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(err => {\n        setStatus(STATUS.REJECTED);\n        setError(err.message);\n      });\n  }, []);\n\n  if (status === STATUS.PENDING) {\n    return (\n      <Box display=\"flex\" pl={4} pt={2}>\n        <PulseLoader size={10} color=\"#E51B36\" />\n      </Box>\n    );\n  }\n\n  if (status === STATUS.RESOLVED) {\n    return movies.length ? (\n      <MovieList movies={movies} />\n    ) : (\n      <p>There isn't any movie on this page.</p>\n    );\n  }\n\n  if (status === STATUS.REJECTED) {\n    return <p>{error}</p>;\n  }\n}\n","export const TMDB_API_URL = 'https://api.themoviedb.org/3';\n\nexport const TMDB_API_ENDPOINTS = {\n  TRENDING_MOVIES: '/trending/movie/day',\n  SEARCH_MOVIE: '/search/movie',\n  MOVIE_DETAILS: '/movie/',\n};\n\nexport const STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport const ERROR_404_MESSAGE = 'Oops! Sorry, something went wrong.';\n","import axios from 'axios';\nimport {\n  TMDB_API_ENDPOINTS,\n  TMDB_API_URL,\n  ERROR_404_MESSAGE,\n} from './constants';\n\naxios.defaults.baseURL = TMDB_API_URL;\naxios.defaults.params = { api_key: process.env.REACT_APP_TMDB_API_KEY };\n\nexport async function fetchTrendingMovie() {\n  try {\n    const response = await axios(TMDB_API_ENDPOINTS.TRENDING_MOVIES);\n    return response.data.results;\n  } catch {\n    throw new Error(ERROR_404_MESSAGE);\n  }\n}\n\nexport async function fetchMovieByKeyword(keyword) {\n  const queryParams = `?query=${keyword}`;\n\n  try {\n    const response = await axios(\n      `${TMDB_API_ENDPOINTS.SEARCH_MOVIE}${queryParams}`\n    );\n\n    return response.data.results;\n  } catch {\n    throw new Error(ERROR_404_MESSAGE);\n  }\n}\n\nexport async function fetchMovieDetailsById(id, extraInfo = '') {\n  const extraInfoPath = extraInfo ? `/${extraInfo}` : '';\n\n  try {\n    const response = await axios(\n      `${TMDB_API_ENDPOINTS.MOVIE_DETAILS}${id}${extraInfoPath}`\n    );\n    return response.data;\n  } catch {\n    throw new Error(ERROR_404_MESSAGE);\n  }\n}\n"],"names":["Box","styled","layout","flexbox","space","position","color","borders","shadow","Link","NavLink","p","theme","fontSizes","colors","textBlack","red","MovieListItem","id","title","location","useLocation","nextPath","pathname","to","state","from","Item","MovieList","movies","as","map","Home","useState","setMovies","STATUS","status","setStatus","error","setError","useEffect","fetchTrendingMovie","then","data","catch","err","message","display","pl","pt","PulseLoader","size","length","TMDB_API_URL","TMDB_API_ENDPOINTS","TRENDING_MOVIES","SEARCH_MOVIE","MOVIE_DETAILS","IDLE","PENDING","RESOLVED","REJECTED","ERROR_404_MESSAGE","axios","response","results","Error","fetchMovieByKeyword","keyword","queryParams","fetchMovieDetailsById","extraInfo","extraInfoPath","api_key","process"],"sourceRoot":""}